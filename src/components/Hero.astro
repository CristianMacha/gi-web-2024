---
const vimeoUrl = 'https://player.vimeo.com/video/971051570?badge=0&autopause=0&player_id=0&app_id=58479&autoplay=1&loop=1&controls=0'; // URL del video de Vimeo con autoplay, loop y sin controles
---
<div class="bg-[#F3F3E9]">
    <div class="px-4 py-20 md:px-10 md:py-56">
        <div class="text-[#0f1d07]">
            <h1 class="text-3xl md:text-6xl lg:text-9xl leading-tight">
                Kansas expert in stone countertops installation
            </h1>
        </div>
    </div>
    <div class="h-[300vh]  relative px-4 md:px-[40px]" id="hero-container-video-main">
        <div class="bg-black rounded-3xl h-screen w-full sticky top-0 flex items-center justify-center">
            <div class="vimeo-container">
                <iframe 
                    src={vimeoUrl} 
                    width="1920" 
                    height="1080" 
                    frameborder="0" 
                    allow="autoplay; fullscreen; picture-in-picture; clipboard-write" 
                    title="PORTADA" 
                    class="w-full h-full">
                </iframe>
            </div>
        </div>
    </div>
</div>

<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const elementAnimation = document.getElementById(
        "hero-container-video-main"
    );

    gsap.fromTo(
        elementAnimation,
        {
            backgroundColor: "#f3f3e9",
        },
        {
            backgroundColor: "#b488f1",
            duration: 0.1,
            scrollTrigger: {
                trigger: elementAnimation,
                start: "center center",
                end: "center center",
                scrub: 0,
                toggleActions: "play none none reverse",
            },
        }
    );

    gsap.timeline({
        scrollTrigger: {
            trigger: elementAnimation,
            start: "top center",
            end: "bottom top",
            scrub: 0,
        },
    })
        .fromTo(
            elementAnimation,
            {
                paddingLeft: "40px",
                paddingRight: "40px",
                duration: 0.1,
            },
            {
                paddingLeft: "0px",
                paddingRight: "0px",
                duration: 0.1,
            }
        )
        .to(elementAnimation, {
            paddingLeft: "40px",
            paddingRight: "40px",
            duration: 0.1,
        });
</script>

<style>
    .vimeo-container {
      width: 100%;
      aspect-ratio: 16 / 9; /* Mantiene la proporción del video */
      overflow: hidden; /* Oculta cualquier contenido fuera del área del contenedor */
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
</style>
